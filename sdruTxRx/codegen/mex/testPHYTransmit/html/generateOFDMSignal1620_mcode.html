<pre class="code">
<span class="srcline"><span class="lineno"><a href="124,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1101U3">hPreambleDemod</span>,<span class="var type1" id="S3T1100U4">hDataDemod</span>, <span class="var type1" id="S4T1099U5">r</span>, <span class="var type1" id="S5T767U6">tx</span> ] = generateOFDMSignal(<span class="mxinfo" id="T1:U5"><span class="var type2" id="S6T1V2U9">samplingFreq</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="124,2" id="srcline2">  2</a></span><span class="line"><span class="comment">% generateOFDMSignal: Generate OFDM signal based on the 802.11a standard.</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,3" id="srcline3">  3</a></span><span class="line"><span class="comment">% This function returns the time domain signal and a structure containing</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,4" id="srcline4">  4</a></span><span class="line"><span class="comment">% details about the signal itself.  This information is required by the</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,5" id="srcline5">  5</a></span><span class="line"><span class="comment">% receiver to operate correctly.</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,6" id="srcline6">  6</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,7" id="srcline7">  7</a></span><span class="line"><span class="comment">%% System Parameters</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,8" id="srcline8">  8</a></span><span class="line"><span class="mxinfo" id="T1:U7"><span class="var type1" id="S7T1U12">FFTLength</span> = <span class="mxinfo" id="T1:U9">64</span></span>;         <span class="comment">% OFDM modulator FFT size</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,9" id="srcline9">  9</a></span><span class="line"><span class="mxinfo" id="T2:U10"><span class="var type1" id="S8T2U16">enableMA</span> = <span class="mxinfo" id="T2:U12">true</span></span>;    <span class="comment">% Enable moving averages for estimates</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,10" id="srcline10"> 10</a></span><span class="line"><span class="mxinfo" id="T1:U13"><span class="var type1" id="S10T1U21">numFrames</span> = <span class="mxinfo" id="T1:U15">20</span></span>;<span class="comment">%1e3</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,11" id="srcline11"> 11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,12" id="srcline12"> 12</a></span><span class="line"><span class="comment">% Message to transmit</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,13" id="srcline13"> 13</a></span><span class="line"><span class="comment">% String holder</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,14" id="srcline14"> 14</a></span><span class="line"><span class="comment">%coder.varsize('payloadMessage', [1, 80], [0 1]);</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,15" id="srcline15"> 15</a></span><span class="line"><span class="comment">%payloadMessage = '';</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,16" id="srcline16"> 16</a></span><span class="line"><span class="mxinfo" id="T216:U16"><span class="var type1" id="S11T216U25">payloadMessage</span> = <span class="mxinfo" id="T216:U18"><span class="string">'Live long and prosper, from the Communications System Toolbox Team at MathWorks!'</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,17" id="srcline17"> 17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,18" id="srcline18"> 18</a></span><span class="line"><span class="comment">%% Create Short Preamble</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,19" id="srcline19"> 19</a></span><span class="line"><span class="mxinfo" id="T119:U19"><span class="var type1" id="S12T119U29">shortPreamble</span> = <span class="mxinfo" id="T119:U21">[ 0 0  1+1i 0 0 0  -1-1i 0 0 0 <span class="keyword">...</span></span></span><span class="comment"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21"> </span></span><span class="comment"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21">% [-27:-17]</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,20" id="srcline20"> 20</a></span><span class="line"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21"> 1+1i 0 0 0  -1-1i 0 0 0 -1-1i 0 0 0   1+1i 0 0 0 <span class="keyword">...</span></span></span><span class="comment"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21"> </span></span><span class="comment"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21">% [-16:-1]</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,21" id="srcline21"> 21</a></span><span class="line"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21"> 0    0 0 0  -1-1i 0 0 0 -1-1i 0 0 0   1+1i 0 0 0 <span class="keyword">...</span></span></span><span class="comment"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21"> </span></span><span class="comment"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21">% [0:15]</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,22" id="srcline22"> 22</a></span><span class="line"><span class="mxinfo" id="T119:U19"><span class="mxinfo" id="T119:U21"> 1+1i 0 0 0   1+1i 0 0 0  1+1i 0 0 ].'</span></span>;               <span class="comment">% [16:27]</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,23" id="srcline23"> 23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,24" id="srcline24"> 24</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,25" id="srcline25"> 25</a></span><span class="line"><span class="comment">% % Create modulator</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,26" id="srcline26"> 26</a></span><span class="line"><span class="comment">% hPreambleMod = OFDMModulator(<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,27" id="srcline27"> 27</a></span><span class="line"><span class="comment">%     'NumGuardBandCarriers', [6; 5],<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,28" id="srcline28"> 28</a></span><span class="line"><span class="comment">%     'CyclicPrefixLength',   0,<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,29" id="srcline29"> 29</a></span><span class="line"><span class="comment">%     'FFTLength' ,           FFTLength,<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,30" id="srcline30"> 30</a></span><span class="line"><span class="comment">%     'NumSymbols',           1);    </span></span></span>
<span class="srcline"><span class="lineno"><a href="124,31" id="srcline31"> 31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,32" id="srcline32"> 32</a></span><span class="line"><span class="comment">% Create modulator</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,33" id="srcline33"> 33</a></span><span class="line"><span class="mxinfo" id="T832:U22"><span class="var type1" id="S13T832U117">hPreambleMod</span> = <span class="mxinfo" id="T832:U24"><span class="fcn" id="F34N25:B119">OFDMModulator</span>(<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,34" id="srcline34"> 34</a></span><span class="line"><span class="mxinfo" id="T832:U22"><span class="mxinfo" id="T832:U24">    <span class="string">'NumGuardBandCarriers'</span>, [6; 5],<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,35" id="srcline35"> 35</a></span><span class="line"><span class="mxinfo" id="T832:U22"><span class="mxinfo" id="T832:U24">    <span class="string">'CyclicPrefixLength'</span>,   0,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,36" id="srcline36"> 36</a></span><span class="line"><span class="mxinfo" id="T832:U22"><span class="mxinfo" id="T832:U24">    <span class="string">'FFTLength'</span> ,           64,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,37" id="srcline37"> 37</a></span><span class="line"><span class="mxinfo" id="T832:U22"><span class="mxinfo" id="T832:U24">    <span class="string">'NumSymbols'</span>,           1)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="124,38" id="srcline38"> 38</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,39" id="srcline39"> 39</a></span><span class="line"><span class="comment">% Modulate and scale</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,40" id="srcline40"> 40</a></span><span class="line"><span class="mxinfo" id="T197:U25"><span class="var type1" id="S15T197U134">shortPreambleOFDM</span> = <span class="mxinfo" id="T197:U27"><span class="mxinfo" id="T1:U28">sqrt(13/6)</span>*<span class="mxinfo" id="T197:U29">step(<span class="var type1" id="S13T832U143">hPreambleMod</span>, <span class="var type1" id="S12T119U144">shortPreamble</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,41" id="srcline41"> 41</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,42" id="srcline42"> 42</a></span><span class="line"><span class="comment">% Form 10 Short Preambles</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,43" id="srcline43"> 43</a></span><span class="line"><span class="mxinfo" id="T702:U32"><span class="var type1" id="S18T702U147">completeShortPreambleOFDM</span> = <span class="mxinfo" id="T702:U34">[<span class="var type1" id="S15T197U150">shortPreambleOFDM</span>; <span class="var type1" id="S15T197U152">shortPreambleOFDM</span>; <span class="mxinfo" id="T1324:U37"><span class="var type1" id="S15T197U155">shortPreambleOFDM</span>(<span class="mxinfo" id="T1325:U39"><span class="mxinfo" id="T1:U40">1</span>:<span class="mxinfo" id="T1:U41">32</span></span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,44" id="srcline44"> 44</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,45" id="srcline45"> 45</a></span><span class="line"><span class="comment">%% Create Long Preamble</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,46" id="srcline46"> 46</a></span><span class="line"><span class="mxinfo" id="T209:U42"><span class="var type1" id="S19T209U161">longPreamble</span> = <span class="mxinfo" id="T209:U44">[1,  1, -1, -1,  1,  1, -1,  1, -1,  1,  1,  1,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,47" id="srcline47"> 47</a></span><span class="line"><span class="mxinfo" id="T209:U42"><span class="mxinfo" id="T209:U44">                   1,  1,  1, -1, -1,  1,  1, -1,  1, -1,  1,  1,  1,  1, 0,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,48" id="srcline48"> 48</a></span><span class="line"><span class="mxinfo" id="T209:U42"><span class="mxinfo" id="T209:U44">                   1, -1, -1,  1,  1, -1,  1, -1,  1, -1, -1, -1, -1, -1,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,49" id="srcline49"> 49</a></span><span class="line"><span class="mxinfo" id="T209:U42"><span class="mxinfo" id="T209:U44">                   1,  1, -1, -1,  1, -1,  1, -1,  1,  1,  1,  1].'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,50" id="srcline50"> 50</a></span><span class="line"> </span></span>
<span class="srcline"><span class="lineno"><a href="124,51" id="srcline51"> 51</a></span><span class="line"><span class="comment">% Modulate</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,52" id="srcline52"> 52</a></span><span class="line"><span class="mxinfo" id="T197:U45"><span class="var type1" id="S20T197U241">longPreambleOFDM</span> = <span class="mxinfo" id="T197:U47">step( <span class="var type1" id="S13T832U244">hPreambleMod</span>, complex(<span class="var type1" id="S19T209U247">longPreamble</span>,0) )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,53" id="srcline53"> 53</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,54" id="srcline54"> 54</a></span><span class="line"><span class="comment">% Form 2 Long Preambles</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,55" id="srcline55"> 55</a></span><span class="line"><span class="mxinfo" id="T702:U50"><span class="var type1" id="S22T702U251">completeLongPreambleOFDM</span> =<span class="mxinfo" id="T702:U52">[<span class="mxinfo" id="T1324:U53"><span class="var type1" id="S20T197U255">longPreambleOFDM</span>(<span class="mxinfo" id="T1325:U55"><span class="mxinfo" id="T1:U56">33</span>:<span class="mxinfo" id="T1:U57">64</span></span>)</span>; <span class="var type1" id="S20T197U260">longPreambleOFDM</span>; <span class="var type1" id="S20T197U262">longPreambleOFDM</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,56" id="srcline56"> 56</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,57" id="srcline57"> 57</a></span><span class="line"><span class="comment">%% Generate Data</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,58" id="srcline58"> 58</a></span><span class="line"><span class="mxinfo" id="T1:U60"><span class="var type1" id="S23T1U265">numCarriers</span> = <span class="mxinfo" id="T1:U62">48</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,59" id="srcline59"> 59</a></span><span class="line"><span class="mxinfo" id="T1:U63"><span class="var type1" id="S24T1U269">CyclicPrefixLength</span> = <span class="mxinfo" id="T1:U65">16</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,60" id="srcline60"> 60</a></span><span class="line"><span class="mxinfo" id="T154:U66"><span class="var type1" id="S25T154U273">PilotCarrierIndices</span> = <span class="mxinfo" id="T154:U68">[12;26;40;54]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,61" id="srcline61"> 61</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,62" id="srcline62"> 62</a></span><span class="line"><span class="comment">% Use string as message</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,63" id="srcline63"> 63</a></span><span class="line"><span class="mxinfo" id="T221:U69"><span class="var type1" id="S26T221U285">originalData</span> = <span class="mxinfo" id="T221:U71"><span class="fcn" id="F1621N39:B287">OFDMletters2bits</span>(<span class="var type1" id="S11T216U288">payloadMessage</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,64" id="srcline64"> 64</a></span><span class="line"><span class="mxinfo" id="T223:U73"><span class="var type1" id="S26T223U291">originalData</span> = <span class="mxinfo" id="T223:U75">reshape(<span class="mxinfo" id="T222:U76"><span class="var type1" id="S26T221U295">originalData</span>.'</span>,size(<span class="var type1" id="S26T221U299">originalData</span>,1)*size(<span class="var type1" id="S26T221U303">originalData</span>,2),1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,65" id="srcline65"> 65</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,66" id="srcline66"> 66</a></span><span class="line"><span class="comment">% Generate CRC</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,67" id="srcline67"> 67</a></span><span class="line"><span class="mxinfo" id="T906:U80"><span class="var type1" id="S30T906U308">hGen</span> = <span class="mxinfo" id="T906:U82">comm.CRCGenerator([1 0 0 1], <span class="string">'ChecksumsPerFrame'</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,68" id="srcline68"> 68</a></span><span class="line"><span class="mxinfo" id="T381:U83"><span class="var type1" id="S32T381U323">dataWithCRC</span> = <span class="mxinfo" id="T381:U85">step(<span class="var type1" id="S30T906U326">hGen</span>, <span class="var type1" id="S26T223U327">originalData</span>)</span></span>;<span class="comment">% Add CRC</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,69" id="srcline69"> 69</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,70" id="srcline70"> 70</a></span><span class="line"><span class="comment">% Construct modulator for each subcarrier</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,71" id="srcline71"> 71</a></span><span class="line"><span class="mxinfo" id="T974:U88"><span class="var type1" id="S33T974U330">hMod</span> = <span class="mxinfo" id="T974:U90">comm.BPSKModulator</span></span>; <span class="comment">% BPSK</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,72" id="srcline72"> 72</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,73" id="srcline73"> 73</a></span><span class="line"><span class="comment">% Apply modulator for each subcarrier</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,74" id="srcline74"> 74</a></span><span class="line"><span class="mxinfo" id="T469:U91"><span class="var type1" id="S34T469U336">modData</span> = <span class="mxinfo" id="T469:U93">step(<span class="var type1" id="S33T974U339">hMod</span>, <span class="var type1" id="S32T381U340">dataWithCRC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,75" id="srcline75"> 75</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,76" id="srcline76"> 76</a></span><span class="line"><span class="comment">% Pad IFFT</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,77" id="srcline77"> 77</a></span><span class="line"><span class="mxinfo" id="T1:U96"><span class="var type1" id="S35T1U343">padBits</span> = <span class="mxinfo" id="T1:U98"><span class="var type1" id="S23T1U345">numCarriers</span> - mod(length(<span class="var type1" id="S34T469U350">modData</span>),<span class="var type1" id="S23T1U351">numCarriers</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,78" id="srcline78"> 78</a></span><span class="line"><span class="keyword">if</span> <span class="var type1" id="S35T1U355">padBits</span> == <span class="var type1" id="S23T1U356">numCarriers</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,79" id="srcline79"> 79</a></span><span class="line">    <span class="var type0" id="S35T0U359">padBits</span> = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="124,80" id="srcline80"> 80</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,81" id="srcline81"> 81</a></span><span class="line"><span class="mxinfo" id="T534:U104"><span class="var type1" id="S34T534U363">modData</span> = <span class="mxinfo" id="T534:U106">[<span class="var type1" id="S34T469U366">modData</span>; <span class="mxinfo" id="T532:U108">step(<span class="var type1" id="S33T974U370">hMod</span>,<span class="mxinfo" id="T471:U110">randi([0 1],<span class="var type1" id="S35T1U377">padBits</span>,1)</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,82" id="srcline82"> 82</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,83" id="srcline83"> 83</a></span><span class="line"><span class="comment">% Calculate required data sizes for correct receiver operation</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,84" id="srcline84"> 84</a></span><span class="line"><span class="mxinfo" id="T1:U112"><span class="var type1" id="S39T1U381">numDataSymbols</span> = <span class="mxinfo" id="T1:U114">length(<span class="var type1" id="S34T534U385">modData</span>)/<span class="var type1" id="S23T1U386">numCarriers</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,85" id="srcline85"> 85</a></span><span class="line"><span class="mxinfo" id="T1:U117"><span class="var type1" id="S40T1U389">numSamples</span> = <span class="mxinfo" id="T1:U119">length(<span class="var type1" id="S34T534U392">modData</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,86" id="srcline86"> 86</a></span><span class="line"><span class="mxinfo" id="T1:U121"><span class="var type1" id="S41T1U395">messageCharacters</span> = <span class="mxinfo" id="T1:U123">length(<span class="var type1" id="S11T216U398">payloadMessage</span>)</span></span>; <span class="comment">% Save desired message size</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,87" id="srcline87"> 87</a></span><span class="line"><span class="mxinfo" id="T1:U125"><span class="var type1" id="S10T1U401">numFrames</span> = <span class="mxinfo" id="T1:U127"><span class="var type1" id="S10T1U402">numFrames</span></span></span>; <span class="comment">% Save number of transmitted frames</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,88" id="srcline88"> 88</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,89" id="srcline89"> 89</a></span><span class="line"><span class="comment">% Convert data into subcarrier streams</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,90" id="srcline90"> 90</a></span><span class="line"><span class="mxinfo" id="T536:U129"><span class="var type1" id="S42T536U405">ofdmData</span> = <span class="mxinfo" id="T536:U131">reshape(<span class="mxinfo" id="T535:U132"><span class="var type1" id="S34T534U409">modData</span>.'</span>, <span class="var type1" id="S23T1U410">numCarriers</span>, length(<span class="var type1" id="S34T534U414">modData</span>)/<span class="var type1" id="S23T1U415">numCarriers</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,91" id="srcline91"> 91</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,92" id="srcline92"> 92</a></span><span class="line"><span class="comment">% Create Pilots</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,93" id="srcline93"> 93</a></span><span class="line"><span class="mxinfo" id="T1097:U137"><span class="var type1" id="S43T1097U418">hPN</span> = <span class="mxinfo" id="T1097:U139">comm.PNSequence(<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,94" id="srcline94"> 94</a></span><span class="line"><span class="mxinfo" id="T1097:U137"><span class="mxinfo" id="T1097:U139">        <span class="string">'Polynomial'</span>,[1 0 0 0 1 0 0 1],<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,95" id="srcline95"> 95</a></span><span class="line"><span class="mxinfo" id="T1097:U137"><span class="mxinfo" id="T1097:U139">        <span class="string">'SamplesPerFrame'</span>, <span class="var type1" id="S39T1U435">numDataSymbols</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,96" id="srcline96"> 96</a></span><span class="line"><span class="mxinfo" id="T1097:U137"><span class="mxinfo" id="T1097:U139">        <span class="string">'InitialConditions'</span>,[1 1 1 1 1 1 1])</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,97" id="srcline97"> 97</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,98" id="srcline98"> 98</a></span><span class="line"><span class="mxinfo" id="T539:U141"><span class="var type1" id="S44T539U448">pilot</span> = <span class="mxinfo" id="T539:U143">step(<span class="var type1" id="S43T1097U451">hPN</span>)</span></span>; <span class="comment">% Create pilot</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,99" id="srcline99"> 99</a></span><span class="line"><span class="mxinfo" id="T540:U145"><span class="var type1" id="S45T540U454">pilots</span> = <span class="mxinfo" id="T540:U147">repmat(<span class="var type1" id="S44T539U457">pilot</span>, 1, 4 )</span></span>; <span class="comment">% Expand to all pilot tones</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,100" id="srcline100">100</a></span><span class="line"><span class="mxinfo" id="T541:U149"><span class="var type1" id="S45T541U462">pilots</span> = <span class="mxinfo" id="T541:U151"><span class="mxinfo" id="T541:U152"><span class="mxinfo" id="T1:U153">2</span>*<span class="mxinfo" id="T541:U154">double(<span class="mxinfo" id="T1326:U155"><span class="mxinfo" id="T541:U156"><span class="var type1" id="S45T540U470">pilots</span>.'</span>&lt;<span class="mxinfo" id="T1:U158">1</span></span>)</span></span>-<span class="mxinfo" id="T1:U159">1</span></span></span>; <span class="comment">% Bipolar to unipolar</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,101" id="srcline101">101</a></span><span class="line"><span class="mxinfo" id="T542:U160"><span class="mxinfo" id="T542:U161"><span class="var type1" id="S45T541U476">pilots</span>(<span class="mxinfo" id="T1:U163">4</span>,:)</span> = <span class="mxinfo" id="T542:U164"><span class="mxinfo" id="T1:U165">-1</span>*<span class="mxinfo" id="T542:U166"><span class="var type1" id="S45T541U483">pilots</span>(<span class="mxinfo" id="T1:U168">4</span>,:)</span></span></span>; <span class="comment">% Invert last pilot</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,102" id="srcline102">102</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,103" id="srcline103">103</a></span><span class="line"><span class="comment">% Construct Modulator</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,104" id="srcline104">104</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="var type1" id="S48T1098U488">hDataMod</span> = <span class="mxinfo" id="T1098:U171"><span class="fcn" id="F1051N37:B490">OFDMModulator</span>(<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,105" id="srcline105">105</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'CyclicPrefixLength'</span>,   <span class="var type1" id="S24T1U492">CyclicPrefixLength</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,106" id="srcline106">106</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'FFTLength'</span> ,           <span class="var type1" id="S7T1U494">FFTLength</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,107" id="srcline107">107</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'NumGuardBandCarriers'</span>, <span class="var type1" id="S13T832U497">hPreambleMod</span>.NumGuardBandCarriers,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,108" id="srcline108">108</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'NumSymbols'</span>,           <span class="var type1" id="S39T1U500">numDataSymbols</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,109" id="srcline109">109</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'PilotInputPort'</span>,       true,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,110" id="srcline110">110</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'PilotCarrierIndices'</span>,  <span class="var type1" id="S25T154U505">PilotCarrierIndices</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,111" id="srcline111">111</a></span><span class="line"><span class="mxinfo" id="T1098:U169"><span class="mxinfo" id="T1098:U171">    <span class="string">'InsertDCNull'</span>,         true)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,112" id="srcline112">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,113" id="srcline113">113</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,114" id="srcline114">114</a></span><span class="line"><span class="comment">% Modulate</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,115" id="srcline115">115</a></span><span class="line"><span class="mxinfo" id="T701:U177"><span class="var type1" id="S4T701U511">r</span> = <span class="mxinfo" id="T701:U179">step(<span class="var type1" id="S48T1098U514">hDataMod</span>, <span class="var type1" id="S42T536U515">ofdmData</span>, <span class="var type1" id="S45T541U516">pilots</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,116" id="srcline116">116</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,117" id="srcline117">117</a></span><span class="line"><span class="comment">% Add preambles to data</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,118" id="srcline118">118</a></span><span class="line"><span class="mxinfo" id="T703:U183"><span class="var type1" id="S49T703U519">preambles</span> = <span class="mxinfo" id="T703:U185">[<span class="var type1" id="S18T702U522">completeShortPreambleOFDM</span>; <span class="var type1" id="S22T702U524">completeLongPreambleOFDM</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,119" id="srcline119">119</a></span><span class="line"><span class="mxinfo" id="T704:U188"><span class="var type1" id="S4T704U527">r</span> = <span class="mxinfo" id="T704:U190">[<span class="var type1" id="S49T703U530">preambles</span>; <span class="var type1" id="S4T701U532">r</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,120" id="srcline120">120</a></span><span class="line"><span class="mxinfo" id="T1:U193"><span class="var type1" id="S50T1U535">frameLength</span> = <span class="mxinfo" id="T1:U195">length(<span class="var type1" id="S4T704U538">r</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,121" id="srcline121">121</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,122" id="srcline122">122</a></span><span class="line"><span class="comment">% Repeat frame</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,123" id="srcline123">123</a></span><span class="line"><span class="mxinfo" id="T1099:U197"><span class="var type1" id="S4T1099U541">r</span> = <span class="mxinfo" id="T1099:U199">repmat(<span class="var type1" id="S4T704U544">r</span>, <span class="var type1" id="S10T1U545">numFrames</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,124" id="srcline124">124</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,125" id="srcline125">125</a></span><span class="line"><span class="comment">% Save Demodulator object data for receiver</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,126" id="srcline126">126</a></span><span class="line"><span class="comment">%hDataDemod = get(OFDMDemodulator(hDataMod));</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,127" id="srcline127">127</a></span><span class="line"><span class="comment">%hPreambleDemod = get(OFDMDemodulator(hPreambleMod));</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,128" id="srcline128">128</a></span><span class="line"><span class="mxinfo" id="T1100:U202"><span class="var type1" id="S3T1100U549">hDataDemod</span> = <span class="mxinfo" id="T1100:U204"><span class="fcn" id="F1380N23:B551">OFDMDemodulator</span>(<span class="var type1" id="S48T1098U552">hDataMod</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,129" id="srcline129">129</a></span><span class="line"><span class="mxinfo" id="T1101:U206"><span class="var type1" id="S2T1101U555">hPreambleDemod</span> = <span class="mxinfo" id="T1101:U208"><span class="fcn" id="F1433N24:B557">OFDMDemodulator</span>(<span class="var type1" id="S13T832U558">hPreambleMod</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,130" id="srcline130">130</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,131" id="srcline131">131</a></span><span class="line"><span class="comment">% Calcuate OFDM frequency bin size</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,132" id="srcline132">132</a></span><span class="line"><span class="mxinfo" id="T1:U210"><span class="var type1" id="S52T1U561">freqBin</span> = <span class="mxinfo" id="T1:U212"><span class="var type1" id="S6T1U563">samplingFreq</span>/<span class="var type1" id="S7T1U564">FFTLength</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,133" id="srcline133">133</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,134" id="srcline134">134</a></span><span class="line"><span class="comment">% Calculate locations of pilots without guardbands</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,135" id="srcline135">135</a></span><span class="line"><span class="mxinfo" id="T154:U215"><span class="var type1" id="S53T154U567">pilotLocationsWithoutGuardbands</span> = <span class="mxinfo" id="T154:U217"><span class="var type1" id="S3T1100U570">hDataDemod</span>.PilotCarrierIndices-<span class="var type1" id="S3T1100U574">hDataDemod</span>.NumGuardBandCarriers(1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,136" id="srcline136">136</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,137" id="srcline137">137</a></span><span class="line"><span class="comment">% Calculate locations of subcarrier datastreams without guardbands</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,138" id="srcline138">138</a></span><span class="line"><span class="mxinfo" id="T764:U220"><span class="var type1" id="S54T764U579">dataSubcarrierIndexies</span> = <span class="mxinfo" id="T764:U222">1:<span class="var type1" id="S7T1U583">FFTLength</span>-sum(<span class="var type1" id="S3T1100U587">hDataDemod</span>.NumGuardBandCarriers)</span></span>;<span class="comment">%Remove guardband offsets</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,139" id="srcline139">139</a></span><span class="line"><span class="mxinfo" id="T1:U225"><span class="var type1" id="S56T1U591">DCNullLocation</span> = <span class="mxinfo" id="T1:U227"><span class="mxinfo" id="T1:U228">33</span> - <span class="mxinfo" id="T1:U229"><span class="mxinfo" id="T38:U230"><span class="var type1" id="S3T1100U596">hDataDemod</span>.NumGuardBandCarriers</span>(<span class="mxinfo" id="T1:U232">1</span>)</span></span></span>;<span class="comment">%Remove index offsets for pilots and guardbands</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,140" id="srcline140">140</a></span><span class="line"><span class="comment">%dataSubcarrierIndexies([pilotLocationsWithoutGuardbands;DCNullLocation]) = [];%Remove pilot and DCNull locations</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,141" id="srcline141">141</a></span><span class="line"><span class="mxinfo" id="T766:U233"><span class="var type1" id="S54T766U601">dataSubcarrierIndexies</span> = <span class="mxinfo" id="T1327:U235">[<span class="mxinfo" id="T173:U236">1:5</span>,<span class="mxinfo" id="T765:U237">7:19</span>,<span class="mxinfo" id="T172:U238">21:26</span>,<span class="mxinfo" id="T172:U239">28:33</span>,<span class="mxinfo" id="T765:U240">35:47</span>,<span class="mxinfo" id="T173:U241">49:53</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,142" id="srcline142">142</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,143" id="srcline143">143</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,144" id="srcline144">144</a></span><span class="line"><span class="comment">% Create return structure</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,145" id="srcline145">145</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="var type1" id="S5T767U624">tx</span> = <span class="mxinfo" id="T767:U244">struct(<span class="string">'originalData'</span>,<span class="var type1" id="S26T223U628">originalData</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,146" id="srcline146">146</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'shortPreambleOFDM'</span>,<span class="var type1" id="S15T197U630">shortPreambleOFDM</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,147" id="srcline147">147</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'completeShortPreambleOFDM'</span>,<span class="var type1" id="S18T702U632">completeShortPreambleOFDM</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,148" id="srcline148">148</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'shortPreamble'</span>,<span class="mxinfo" id="T119:U248"><span class="var type1" id="S12T119U634">shortPreamble</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,149" id="srcline149">149</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'longPreamble'</span>,<span class="mxinfo" id="T209:U250"><span class="var type1" id="S19T209U636">longPreamble</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,150" id="srcline150">150</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'longPreambleOFDM'</span>,<span class="var type1" id="S20T197U638">longPreambleOFDM</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,151" id="srcline151">151</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'completeLongPreambleOFDM'</span>,<span class="var type1" id="S22T702U640">completeLongPreambleOFDM</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,152" id="srcline152">152</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'pilots'</span>,<span class="var type1" id="S45T541U642">pilots</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,153" id="srcline153">153</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'preambles'</span>,<span class="var type1" id="S49T703U644">preambles</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,154" id="srcline154">154</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'pilotLocationsWithoutGuardbands'</span>,<span class="mxinfo" id="T154:U256"><span class="var type1" id="S53T154U646">pilotLocationsWithoutGuardbands</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,155" id="srcline155">155</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'dataSubcarrierIndexies'</span>,<span class="var type1" id="S54T766U648">dataSubcarrierIndexies</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,156" id="srcline156">156</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'samplingFreq'</span>,<span class="mxinfo" id="T1:U259"><span class="var type1" id="S6T1U650">samplingFreq</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,157" id="srcline157">157</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'FFTLength'</span>,<span class="mxinfo" id="T1:U261"><span class="var type1" id="S7T1U652">FFTLength</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,158" id="srcline158">158</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'enableMA'</span>,<span class="mxinfo" id="T2:U263"><span class="var type1" id="S8T2U654">enableMA</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,159" id="srcline159">159</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'numCarriers'</span>,<span class="mxinfo" id="T1:U265"><span class="var type1" id="S23T1U656">numCarriers</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,160" id="srcline160">160</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'padBits'</span>,<span class="mxinfo" id="T1:U267"><span class="var type1" id="S35T1U658">padBits</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,161" id="srcline161">161</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'numSamples'</span>,<span class="mxinfo" id="T1:U269"><span class="var type1" id="S40T1U660">numSamples</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,162" id="srcline162">162</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'messageCharacters'</span>,<span class="mxinfo" id="T1:U271"><span class="var type1" id="S41T1U662">messageCharacters</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,163" id="srcline163">163</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'numFrames'</span>,<span class="mxinfo" id="T1:U273"><span class="var type1" id="S10T1U664">numFrames</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,164" id="srcline164">164</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'frameLength'</span>,<span class="mxinfo" id="T1:U275"><span class="var type1" id="S50T1U666">frameLength</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,165" id="srcline165">165</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'freqBin'</span>,<span class="mxinfo" id="T1:U277"><span class="var type1" id="S52T1U668">freqBin</span></span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,166" id="srcline166">166</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'DecimationFactor'</span>,<span class="mxinfo" id="T1:U279">0</span>,<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="124,167" id="srcline167">167</a></span><span class="line"><span class="mxinfo" id="T767:U242"><span class="mxinfo" id="T767:U244">            <span class="string">'receiveBufferLength'</span>,<span class="mxinfo" id="T1:U280">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="124,168" id="srcline168">168</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,169" id="srcline169">169</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,170" id="srcline170">170</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,171" id="srcline171">171</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,172" id="srcline172">172</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,173" id="srcline173">173</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,174" id="srcline174">174</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,175" id="srcline175">175</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,176" id="srcline176">176</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,177" id="srcline177">177</a></span><span class="line"><span class="comment">%                             padBits: 13</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,178" id="srcline178">178</a></span><span class="line"><span class="comment">%                          numSamples: 576</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,179" id="srcline179">179</a></span><span class="line"><span class="comment">%                   messageCharacters: 80</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,180" id="srcline180">180</a></span><span class="line"><span class="comment">%                           numFrames: 1000</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,181" id="srcline181">181</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,182" id="srcline182">182</a></span><span class="line"><span class="comment">%                         frameLength: 1280</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,183" id="srcline183">183</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,184" id="srcline184">184</a></span><span class="line"><span class="comment">%                             freqBin: 312500</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,185" id="srcline185">185</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,186" id="srcline186">186</a></span><span class="line"><span class="comment">%                          hDataDemod: [1x1 struct]</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,187" id="srcline187">187</a></span><span class="line"><span class="comment">%                      hPreambleDemod: [1x1 struct]</span></span></span>
<span class="srcline"><span class="lineno"><a href="124,188" id="srcline188">188</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,189" id="srcline189">189</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,190" id="srcline190">190</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,191" id="srcline191">191</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,192" id="srcline192">192</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,193" id="srcline193">193</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,194" id="srcline194">194</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,195" id="srcline195">195</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,196" id="srcline196">196</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,197" id="srcline197">197</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="124,198" id="srcline198">198</a></span><span class="line"></span></span>
</pre>
